(self.webpackChunkreosv_index_mobile=self.webpackChunkreosv_index_mobile||[]).push([[74],{9:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/soul_binder.89ea769e7c0082aca3ab.webp"},31:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/holy_burst_hammer.64020926600d758e50d9.webp"},69:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/swift_bow.a86afb88d1e93e3cf71e.webp"},245:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/pletan.c2acca14caeca1c5deb9.webp"},293:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/lightning_wand.7653d81733bbf49ace2b.webp"},654:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/summer_shine.97e9fc921cdf01d2f938.webp"},730:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/flame.433608a7810b7e9b9955.webp"},841:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/shadow_sword.1e6bc0ae8d072f1c536a.webp"},946:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/sylvanir_bow.35743affe36fab802e47.webp"},1136:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/sylvania.d12dded923b21f130eb1.webp"},1152:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/plasma_staff.45431b5e2f436fcebee0.webp"},1262:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/shadow_dagger.a278925259aac37de6b8.webp"},1309:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/zephyr.bbc60df7e69f7412a79d.webp"},1471:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/guardians_shield.48e494015b6930f02e49.webp"},1491:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/hastur_staff_old.43465e7160504ebee2dd.webp"},1521:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/flame_wand.3d49fe7f69c5e1e4d314.webp"},1652:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/rhapsody_old.1187d5c10af452a365a8.webp"},1966:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/arteon.b41bdb161898bc348f03.webp"},1997:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/easter.77d39838f1a541f38142.webp"},2073:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/spring_shot_old.e5b6de7b040a3ce0698d.webp"},2223:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/lightning_gauntlets.606e62f72b08f27f5c91.webp"},2440:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/echo_old.0df0dc131c58b0f55d86.webp"},2524:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/death_grip.a5fbb656e13765c4489c.webp"},2525:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/awakened_olympus.9c4d0ec116ca7586b6fc.webp"},2629:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/flamos.24495e219298a288b36e.webp"},2634:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/illusion_shuriken.55909730f53a65543607.webp"},2883:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/ignis.7e0ada97abd234219aff.webp"},3289:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/blitz_dagger.4abbaaac323bf1cdf3a5.webp"},3335:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/gold_moon.dcbcd4b322979ca67877.webp"},3337:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/upgrade_valhalla.52eb91e35c701b959a39.webp"},3341:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/slate_weaver.450cf51ae089578d495a.webp"},3350:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/evergreen.ca76773cd68f2c21a53d.webp"},3414:(e,t,s)=>{"use strict";s.d(t,{A:()=>g});var a=s(5043),r=s(7132),i=s(3969),o=s(5895),n=s(1244),c=s(4956),d=s(8578),p=s(6128),l=s(8342);const b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:500,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:2,maxHeight:"80vh",overflowY:"auto"},u={display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:1},f={width:"100%",height:60,objectFit:"contain",backgroundColor:"rgba(0, 0, 0, 0.1)"},w={fontSize:"0.75rem",p:1};var m=s(579);const x=s(4749),h=x.keys().reduce((e,t)=>(e[t.replace("./","")]=x(t),e),{}),g=e=>{let{open:t,onClose:s,onWeaponSelect:x,weaponsData:g,excludedNames:_=new Set,excludedGrades:A=new Set}=e;const j=(0,a.useCallback)(e=>g.find(t=>t["\uc774\ub984"]===e&&0===parseInt(t["\uac15\ud654 \ucc28\uc218"],10))||g.find(t=>t["\uc774\ub984"]===e),[g]),v=(0,a.useMemo)(()=>{if(!g)return[];const e=g.reduce((e,t)=>{const s=t["\uc774\ub984"];return s&&(e[s]=(e[s]||0)+1),e},{});return Array.from(new Set(g.map(e=>e["\uc774\ub984"]))).filter(t=>{if(!t||e[t]<=1||_.has(t))return!1;const s=j(t);return s&&!A.has(s["\ub4f1\uae09"])})},[g,_,A,j]);return(0,m.jsx)(r.A,{open:t,onClose:s,children:(0,m.jsxs)(i.A,{sx:b,children:[(0,m.jsx)(o.A,{variant:"h6",component:"h2",sx:{mb:2},children:"\ubb34\uae30 \uc120\ud0dd"}),(0,m.jsx)(i.A,{sx:u,children:v.map(e=>{const t=j(e);return t?(0,m.jsx)(n.A,{sx:(s=t["\ub4f1\uae09"],{border:"1px solid #ddd",textAlign:"center",backgroundColor:(0,l.e)(s),color:"white",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"}),children:(0,m.jsxs)(c.A,{onClick:()=>x(e),children:[(0,m.jsx)(d.A,{component:"img",sx:f,image:h["".concat(t["\uc774\ubbf8\uc9c0 \ud30c\uc77c"],".webp")],alt:e}),(0,m.jsx)(p.A,{sx:{p:0},children:(0,m.jsx)(o.A,{sx:w,children:e})})]})},e):null;var s})})]})})}},3502:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/frozen_staff_old.91fdefd68954023c9224.webp"},3704:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/upgrade_gold_moon.90414a6250076286e055.webp"},3768:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/bracelet_of_life.7e4c9ca27960d01a2b5f.webp"},3829:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/sylvania_crossbow.23dd96bc2ac540ba5227.webp"},3830:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/raven_wand.81885a261104ad1e11bf.webp"},3907:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/blast.4cb5471aafb52a87b971.webp"},3922:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/haken.9fbb0116f80188c45c82.webp"},3980:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/wind_staff.0c826f4a9ddbd0f7130a.webp"},4005:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/santa_staff.4cf8c765ef82d44ddc9f.webp"},4164:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/rocket_launcher.9a414d97e662100d5f12.webp"},4220:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/carrot_ball.3cd4f0d4700cf90bbf8e.webp"},4243:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/lethe.06f3e1204e0f1ba93678.webp"},4380:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/summer_sword.24fa3c8421dfaa5d131d.webp"},4677:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/abyss_sword_old.03a5a9a25af8d1c291d9.webp"},4749:(e,t,s)=>{var a={"./abyss_sword.webp":5035,"./abyss_sword_old.webp":4677,"./acheron.webp":8607,"./arcana.webp":9465,"./arteon.webp":1966,"./awakened_gold_moon.webp":5147,"./awakened_olympus.webp":2525,"./awakened_valhalla.webp":7257,"./battle_dancer.webp":9177,"./blast.webp":3907,"./blaster.webp":9384,"./blink.webp":7135,"./blitz_dagger.webp":3289,"./bracelet_of_life.webp":3768,"./bunny_bunny.webp":7978,"./carrot_ball.webp":4220,"./cayenne.webp":4796,"./death_fire.webp":8284,"./death_grip.webp":2524,"./death_grip_old.webp":7974,"./dragonia.webp":8742,"./easter.webp":1997,"./easter_old.webp":9703,"./echo.webp":5078,"./echo_old.webp":2440,"./egg_boom.webp":9118,"./evergreen.webp":3350,"./flame.webp":730,"./flame_wand.webp":1521,"./flamos.webp":2629,"./frost_wand.webp":4850,"./frozen_staff.webp":8612,"./frozen_staff_old.webp":3502,"./gold_moon.webp":3335,"./guardians_shield.webp":1471,"./haken.webp":3922,"./hastur_staff.webp":9001,"./hastur_staff_old.webp":1491,"./holy_burst_hammer.webp":31,"./ignis.webp":2883,"./illusion_shuriken.webp":2634,"./lethe.webp":4243,"./lightning_gauntlets.webp":2223,"./lightning_wand.webp":293,"./lindell_staff.webp":7496,"./lucion.webp":6093,"./lucky_bag.webp":4792,"./lumiere_harp.webp":4832,"./nightfall.webp":6345,"./olympus.webp":7154,"./otterment.webp":8119,"./phlegethon.webp":6745,"./plasma_staff.webp":1152,"./pletan.webp":245,"./radiant.webp":9234,"./ragnarhelm.webp":5580,"./raven_wand.webp":3830,"./rhapsody.webp":6701,"./rhapsody_old.webp":1652,"./ring_of_life.webp":7446,"./rocket_launcher.webp":4164,"./santa_staff.webp":4005,"./shadow_dagger.webp":1262,"./shadow_knight.webp":8213,"./shadow_sword.webp":841,"./slate_weaver.webp":3341,"./solar_scepter.webp":4913,"./soul_binder.webp":9,"./spirit_axe.webp":6049,"./spring_shot.webp":5503,"./spring_shot_old.webp":2073,"./storm_leon.webp":9135,"./summer_shine.webp":654,"./summer_sword.webp":4380,"./swift_bow.webp":69,"./sylvania.webp":1136,"./sylvania_crossbow.webp":3829,"./sylvanir_bow.webp":946,"./terra_hammer.webp":8682,"./upgrade_gold_moon.webp":3704,"./upgrade_olympus.webp":8013,"./upgrade_valhalla.webp":3337,"./valhalla.webp":8340,"./wind_staff.webp":3980,"./wither_scoop.webp":6443,"./wither_staff.webp":6613,"./zephyr.webp":1309};function r(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=4749},4792:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/lucky_bag.f9a753f9db1561d7b8a7.webp"},4796:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/cayenne.a596a00399f34beaa500.webp"},4832:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/lumiere_harp.50492e58da72188afc2b.webp"},4850:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/frost_wand.4d456e4a4d8fa21c4d7a.webp"},4913:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/solar_scepter.020f236d71b719182ecc.webp"},5035:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/abyss_sword.273aaaaea7ab046b97b6.webp"},5078:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/echo.1164c456016e0e4c7a45.webp"},5147:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/awakened_gold_moon.bb36936cb14d1030a42e.webp"},5503:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/spring_shot.bb78897198502b6e99f8.webp"},5580:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/ragnarhelm.10e146c58d564b5ad2d9.webp"},6049:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/spirit_axe.d042ea751166c8279ba4.webp"},6093:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/lucion.280e2287b7583b5bba00.webp"},6345:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/nightfall.56229f6d03edd71f5e6d.webp"},6443:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/wither_scoop.70548b2d4ca99f20b40a.webp"},6613:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/wither_staff.fbdeec2321c09a0f08cb.webp"},6701:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/rhapsody.d903442d126436739967.webp"},6745:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/phlegethon.e66ce50f6e5478bbad90.webp"},7135:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/blink.f72bb031d24d4d5d918b.webp"},7154:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/olympus.22a59c41c4abe7032fd9.webp"},7257:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/awakened_valhalla.c7ad603d3e8672bc1661.webp"},7446:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/ring_of_life.8f7ff9f7cf761ed8d002.webp"},7496:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/lindell_staff.ada3912bd5ebc8b8b746.webp"},7974:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/death_grip_old.23d11f3aa85ca299ff4e.webp"},7978:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/bunny_bunny.e48f274f2f02bd61ac65.webp"},8013:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/upgrade_olympus.36ac4419a60bd3dce7ec.webp"},8119:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/otterment.56f4a42c223aeb3d7462.webp"},8213:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/shadow_knight.3f1bab6afdf9fe002218.webp"},8284:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/death_fire.56cfa0c99a55c76fd0fe.webp"},8340:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/valhalla.79d114b4b813158fa164.webp"},8342:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});const a=e=>{switch(e){case"\ud544\uba78":return"#d32f2f";case"\uc804\uc124":return"#fbc02d";case"\uc601\uc6c5":return"#9c27b0";case"\uc6b4\uba85":return"#1565c0";case"\ud76c\uadc0":return"#1976d2";case"\uace0\uae09":return"#388e3c";case"\ubcf4\uc2a4":return"#ffb6c1";case"\uae30\ud0c0":return"#66cdaa";default:return"#616161"}}},8607:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/acheron.b389da40815090a78a15.webp"},8612:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/frozen_staff.00104308a6f2f8c76659.webp"},8682:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/terra_hammer.77d6f3a580284ca4778a.webp"},8742:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/dragonia.db046061037385835722.webp"},9001:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/hastur_staff.82310c25709af87df1ad.webp"},9074:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>X});var a=s(9379),r=s(45),i=s(5043),o=s(3969),n=s(5895),c=s(9806),d=s(6887),p=s(3309),l=s(2843),b=s(5766),u=s.n(b),f=s(172),w=s(2097),m=s(4799),x=s(2055),h=s(7471),g=s(1725),_=s(5030),A=s(916),j=s(2038),v=s(7984),y=s(3414);const S={p:2,display:"flex",alignItems:"center",gap:2},k={width:80,height:80,objectFit:"contain",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:1},C={fontWeight:"bold"};var I=s(579);const W="1IZra9ZZRwBBgT4ai1W0fCATeFFsztHnF0k03DmLr1tI",F="https://docs.google.com/spreadsheets/d/".concat(W,"/export?format=csv&gid=").concat("0"),E="https://docs.google.com/spreadsheets/d/".concat(W,"/export?format=csv&gid=").concat("2088796296"),O="https://docs.google.com/spreadsheets/d/".concat(W,"/export?format=csv&gid=").concat("665507476"),L=s(4749),z=L.keys().reduce((e,t)=>(e[t.replace("./","")]=L(t),e),{}),N="specialWeaponEnhSimState",P=new Set(["\ubc29\ub791\uc790, \ud50c\ub808\ud0c4","\uc11c\uba38 \uc0e4\uc778","\uc624\ud130\uba3c\ud2b8","\uc0dd\uba85\uc758 \ubc18\uc9c0","\ud50c\ub808\uc784","\uc2e4\ubc14\ub2c8\uc544","\uc0b0\ud0c0 \uc2a4\ud0dc\ud504","\uc100\ub3c4\uc6b0 \uc18c\ub4dc","\uc100\ub3c4\uc6b0 \ub300\uac70"]),M=new Set(["\ubcf4\uc2a4","\uc6b4\uba85","\uae30\ud0c0"]);function D(){const{cache:e,setCacheValue:t}=(0,i.useContext)(v.O),{weapons:s}=e,[r,c]=(0,i.useState)([]),[d,p]=(0,i.useState)([]),[l,b]=(0,i.useState)(!0),[W,L]=(0,i.useState)(null),[D,B]=(0,i.useState)(!1),T={gold:0,formlessShards:0,refinedStones:0,rawOres:0,purplePowder:0,yellowPowder:0,consumedWeapons:{}},[Z,H]=(0,i.useState)(()=>{try{const e=sessionStorage.getItem(N);if(e){return JSON.parse(e).selectedWeaponName||""}}catch(W){console.error("Failed to parse selectedWeaponName from sessionStorage",W)}return""}),[J,R]=(0,i.useState)(()=>{try{const e=sessionStorage.getItem(N);if(e){return JSON.parse(e).currentLevel||0}}catch(W){console.error("Failed to parse currentLevel from sessionStorage",W)}return 0}),[G,U]=(0,i.useState)(()=>{try{const e=sessionStorage.getItem(N);if(e){const t=JSON.parse(e);if(t.totalCosts)return"object"===typeof t.totalCosts.consumedWeapons&&null!==t.totalCosts.consumedWeapons||(t.totalCosts.consumedWeapons={}),t.totalCosts}}catch(W){console.error("Failed to parse totalCosts from sessionStorage",W)}return T}),[V,Y]=(0,i.useState)(null),[q,K]=(0,i.useState)(!1),[Q,X]=(0,i.useState)(!1),[$,ee]=(0,i.useState)({open:!1,message:""});(0,i.useEffect)(()=>{if(!s||!Z)return;const e=s.reduce((e,t)=>{const s=t["\uc774\ub984"];return s&&(e[s]=(e[s]||0)+1),e},{}),t=(a=Z,s.find(e=>e["\uc774\ub984"]===a&&0===parseInt(e["\uac15\ud654 \ucc28\uc218"],10))||s.find(e=>e["\uc774\ub984"]===a));var a;t&&(t=>e[t]>1)(Z)&&!P.has(Z)&&!M.has(t["\ub4f1\uae09"])||H("")},[s,Z]),(0,i.useEffect)(()=>{const e={selectedWeaponName:Z,currentLevel:J,totalCosts:G};sessionStorage.setItem(N,JSON.stringify(e))},[Z,J,G]),(0,i.useEffect)(()=>{s?b(!1):(async()=>{b(!0),L(null);const s=async(s,a)=>{if(e[a])return e[a];const r=await fetch(s);if(!r.ok)throw new Error("'".concat(a,"' \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."));const i=await r.text();return new Promise((e,s)=>{u().parse(i,{header:!0,skipEmptyLines:!0,complete:s=>{const r=s.data.filter(e=>Object.values(e).some(e=>e&&""!==e.trim()));t(a,r),e(r)},error:e=>s(new Error(e.message))})})};try{const[,e,t]=await Promise.all([s(F,"weapons"),s(E,"guaranteedEnhCosts"),s(O,"probEnhCosts")]);c(e),p(t)}catch(a){L(a.message)}finally{b(!1)}})()},[e,t,s]);const te=(0,i.useMemo)(()=>Z&&s?s.find(e=>e["\uc774\ub984"]===Z&&0===parseInt(e["\uac15\ud654 \ucc28\uc218"],10))||s.find(e=>e["\uc774\ub984"]===Z):null,[s,Z]),se=(0,i.useMemo)(()=>Z&&s?s.filter(e=>e["\uc774\ub984"]===Z).map(e=>parseInt(e["\uac15\ud654 \ucc28\uc218"],10)).filter(e=>!isNaN(e)).sort((e,t)=>e-t):[],[s,Z]),ae=()=>Y(null),re=()=>B(!1),ie=(0,i.useMemo)(()=>{if(!te)return null;const e=J+1;return r.find(t=>t["\ub4f1\uae09"]===te["\ub4f1\uae09"]&&parseInt(t["\uac15\ud654 \ucc28\uc218"],10)===e)},[te,J,r]),oe=(0,i.useMemo)(()=>{if(!te)return null;const e=J+1;return d.find(t=>t["\ub4f1\uae09"]===te["\ub4f1\uae09"]&&parseInt(t["\uac15\ud654 \ucc28\uc218"],10)===e)},[te,J,d]),ne=(0,i.useMemo)(()=>{if(!oe)return null;let e=parseFloat(oe["\uc131\uacf5 \ud655\ub960"])||0,t=parseFloat(oe["\uc2e4\ud328 \ud655\ub960"])||0,s=parseFloat(oe["\ud558\ub77d \ud655\ub960"])||0,a=parseFloat(oe["\ub9ac\uc14b \ud655\ub960"])||0;if(q){const a=e/2;t+=a,t+=s,e=a,s=0}return{success:e,maintain:t,fall:s,reset:a}},[oe,q]);(0,i.useEffect)(()=>{K(!1),X(!1)},[Z]),(0,i.useEffect)(()=>{const e=d.find(e=>e["\ub4f1\uae09"]===(null===te||void 0===te?void 0:te["\ub4f1\uae09"])&&parseInt(e["\uac15\ud654 \ucc28\uc218"],10)===J+1);parseFloat(null===e||void 0===e?void 0:e["\ud558\ub77d \ud655\ub960"])>0||K(!1),parseFloat(null===e||void 0===e?void 0:e["\ub9ac\uc14b \ud655\ub960"])>0||X(!1)},[J,d,te]);return l?(0,I.jsx)(f.A,{}):W?(0,I.jsxs)(n.A,{color:"error",children:["\uc624\ub958: ",W]}):(0,I.jsxs)(o.A,{sx:{mb:2},children:[(0,I.jsx)(w.A,{variant:"contained",onClick:()=>B(!0),fullWidth:!0,children:Z||"\ubb34\uae30 \uc120\ud0dd"}),(0,I.jsx)(y.A,{open:D,onClose:re,onWeaponSelect:e=>{H(e),R(0),re()},weaponsData:s,excludedNames:P,excludedGrades:M}),te&&(0,I.jsxs)(m.A,{elevation:3,sx:(0,a.A)((0,a.A)({},S),{},{mt:2}),children:[(0,I.jsx)(o.A,{component:"img",src:z["".concat(te["\uc774\ubbf8\uc9c0 \ud30c\uc77c"],".webp")],alt:te["\uc774\ub984"],sx:k}),(0,I.jsxs)(o.A,{sx:{flex:1,minWidth:0,display:"flex",flexDirection:"column"},children:[(0,I.jsx)(n.A,{variant:"h6",sx:C,noWrap:!0,children:te["\uc774\ub984"]}),(0,I.jsxs)(n.A,{variant:"caption",color:"text.secondary",sx:{mt:.5},children:["\ub4f1\uae09: ",te["\ub4f1\uae09"]]}),(0,I.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mt:"auto"},children:[(0,I.jsxs)(n.A,{variant:"h6",children:["+",J," \uac15\ud654"]}),(0,I.jsx)(w.A,{variant:"outlined",size:"small",onClick:e=>{Y(e.currentTarget)},endIcon:(0,I.jsx)(j.A,{}),sx:{flexShrink:0,ml:"auto"},children:"\uac74\ub108\ub6f0\uae30"}),(0,I.jsx)(x.A,{anchorEl:V,open:Boolean(V),onClose:ae,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:se.map(e=>(0,I.jsxs)(h.A,{onClick:()=>(R(e),void ae()),children:["+",e," \uac15\ud654"]},e))})]})]})]}),te&&(0,I.jsx)(m.A,{elevation:3,sx:{p:2,mt:2},children:(0,I.jsxs)(o.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[(0,I.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,I.jsx)(n.A,{variant:"subtitle1",gutterBottom:!0,children:"\ud655\uc815 \uac15\ud654"}),ie?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(n.A,{variant:"body2",children:["\uace8\ub4dc: ",Number(ie["\uace8\ub4dc"]).toLocaleString()]}),(0,I.jsxs)(n.A,{variant:"body2",children:["\ubb34\ud615\uc758 \ud30c\ud3b8:"," ",Number(ie["\ubb34\ud615\uc758 \ud30c\ud3b8"]).toLocaleString()]}),(0,I.jsx)(w.A,{variant:"outlined",size:"small",sx:{mt:1},onClick:()=>{if(!ie)return;const e=parseInt(ie["\uace8\ub4dc"],10)||0,t=parseInt(ie["\ubb34\ud615\uc758 \ud30c\ud3b8"],10)||0;U(s=>(0,a.A)((0,a.A)({},s),{},{gold:s.gold+e,formlessShards:s.formlessShards+t})),R(e=>e+1)},children:"\uac15\ud654"})]}):(0,I.jsx)(n.A,{variant:"body2",color:"text.secondary",children:"\uc815\ubcf4 \uc5c6\uc74c"})]}),(0,I.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,I.jsx)(n.A,{variant:"subtitle1",gutterBottom:!0,children:"\ud655\ub960 \uac15\ud654"}),oe?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(n.A,{variant:"body2",children:["\uace8\ub4dc: ",Number(oe["\uace8\ub4dc"]).toLocaleString()]}),(0,I.jsxs)(n.A,{variant:"body2",children:["\uc815\uad50\ud55c \uac15\ud654\uc11d:"," ",Number(oe["\uc815\uad50\ud55c \uac15\ud654\uc11d"]).toLocaleString()]}),(0,I.jsxs)(n.A,{variant:"body2",children:["\ubbf8\uac00\uacf5 \uac15\ud654 \uc6d0\uc11d:"," ",Number(oe["\ubbf8\uac00\uacf5 \uac15\ud654 \uc6d0\uc11d"]).toLocaleString()]}),(0,I.jsxs)(o.A,{sx:{mt:1,display:"flex",justifyContent:"center",gap:1,flexWrap:"wrap"},children:[(null===ne||void 0===ne?void 0:ne.success)>0&&(0,I.jsxs)(n.A,{variant:"caption",children:["\uc131\uacf5: ",(100*ne.success).toFixed(1),"%"]}),(null===ne||void 0===ne?void 0:ne.maintain)>0&&(0,I.jsxs)(n.A,{variant:"caption",color:"text.secondary",children:["\uc2e4\ud328: ",(100*ne.maintain).toFixed(1),"%"]}),(null===ne||void 0===ne?void 0:ne.fall)>0&&(0,I.jsxs)(n.A,{variant:"caption",color:"error",children:["\ud558\ub77d: ",(100*ne.fall).toFixed(1),"%"]}),(null===ne||void 0===ne?void 0:ne.reset)>0&&(0,I.jsxs)(n.A,{variant:"caption",color:"error",children:["\ub9ac\uc14b: ",(100*ne.reset).toFixed(1),"%"]})]}),(0,I.jsx)(w.A,{variant:"outlined",size:"small",sx:{mt:1},onClick:()=>{if(!oe)return;let e=parseInt(oe["\uace8\ub4dc"],10)||0;const t=parseInt(oe["\uc815\uad50\ud55c \uac15\ud654\uc11d"],10)||0,s=parseInt(oe["\ubbf8\uac00\uacf5 \uac15\ud654 \uc6d0\uc11d"],10)||0;let r=parseFloat(oe["\uc131\uacf5 \ud655\ub960"])||0,i=parseFloat(oe["\ud558\ub77d \ud655\ub960"])||0;const o=parseFloat(oe["\ub9ac\uc14b \ud655\ub960"])||0;if(q){e+=parseInt(oe["\ud558\ub77d \ubc29\uc9c0 \ube44\uc6a9"],10)||0;r=r/2,i=0}Q&&(e+=parseInt(oe["\ub9ac\uc14b \ubc29\uc9c0 \ube44\uc6a9"],10)||0);const n=Math.random();let c="",d={gold:e,refinedStones:t,rawOres:s,purplePowder:0,yellowPowder:0};if(n<r)R(e=>e+1),c="\uac15\ud654 \uc131\uacf5! (+".concat(J+1,")");else if(n<r+i)q?c="\uac15\ud654 \uc2e4\ud328! (\ud558\ub77d \ubc29\uc9c0\ub428)":(R(e=>Math.max(0,e-1)),c="\uac15\ud654 \uc2e4\ud328... (".concat(J>0?"+".concat(J-1,"\ub85c \ud558\ub77d"):"\ubcc0\ub3d9 \uc5c6\uc74c",")"));else if(n<r+i+o)if(Q){const e=te["\ub4f1\uae09"];let t="";if("\ud544\uba78"===e)t=" (\ub3d9\uc77c \ubb34\uae30 1\uac1c \uc18c\ubaa8)";else if("\uc601\uc6c5"===e||"\uc804\uc124"===e){const s=(p=J)>=7&&p<=9?1:p>=10&&p<=12?2:p>=13&&p<=15?3:0;s>0&&("\uc601\uc6c5"===e?(d.purplePowder+=s,t=" (\ubcf4\ub77c\uc0c9 \uac00\ub8e8 ".concat(s,"\uac1c \uc18c\ubaa8)")):(d.yellowPowder+=s,t=" (\ub178\ub780\uc0c9 \uac00\ub8e8 ".concat(s,"\uac1c \uc18c\ubaa8)")))}c="\uac15\ud654 \uc2e4\ud328! (\ub9ac\uc14b \ubc29\uc9c0\ub428)".concat(t)}else R(0),c="\uac15\ud654 \ub9ac\uc14b... (+0)";else c="\uac15\ud654 \uc2e4\ud328! (\ub4f1\uae09 \uc720\uc9c0)";var p;U(e=>(0,a.A)((0,a.A)({},e),{},{gold:e.gold+d.gold,refinedStones:e.refinedStones+d.refinedStones,rawOres:e.rawOres+d.rawOres,purplePowder:e.purplePowder+d.purplePowder,yellowPowder:e.yellowPowder+d.yellowPowder,consumedWeapons:c.includes("\ub9ac\uc14b \ubc29\uc9c0\ub428")&&"\ud544\uba78"===te["\ub4f1\uae09"]?(0,a.A)((0,a.A)({},e.consumedWeapons||{}),{},{[Z]:(e.consumedWeapons&&e.consumedWeapons[Z]||0)+1}):e.consumedWeapons})),ee({open:!0,message:c})},children:"\uac15\ud654"}),(0,I.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:1,gap:1},children:[parseFloat(oe["\ud558\ub77d \ud655\ub960"])>0&&(0,I.jsxs)(o.A,{children:[(0,I.jsx)(g.A,{control:(0,I.jsx)(_.A,{checked:q,onChange:e=>K(e.target.checked),size:"small"}),label:"\ud558\ub77d \ubc29\uc9c0"}),(0,I.jsxs)(n.A,{variant:"caption",display:"block",children:["\ube44\uc6a9:"," ",Number(oe["\ud558\ub77d \ubc29\uc9c0 \ube44\uc6a9"]).toLocaleString()," ","\uace8\ub4dc"]})]}),parseFloat(oe["\ub9ac\uc14b \ud655\ub960"])>0&&(0,I.jsxs)(o.A,{children:[(0,I.jsx)(g.A,{control:(0,I.jsx)(_.A,{checked:Q,onChange:e=>X(e.target.checked),size:"small"}),label:"\ub9ac\uc14b \ubc29\uc9c0"}),(0,I.jsxs)(n.A,{variant:"caption",display:"block",children:["\ube44\uc6a9:"," ",Number(oe["\ub9ac\uc14b \ubc29\uc9c0 \ube44\uc6a9"]).toLocaleString()," ","\uace8\ub4dc +"," ",(()=>{const e=te["\ub4f1\uae09"],t=J;if("\ud544\uba78"===e)return"\ub3d9\uc77c \ubb34\uae30 1\uac1c";if("\uc601\uc6c5"===e){return"\ubcf4\ub77c\uc0c9 \uac00\ub8e8 ".concat(t>=7&&t<=9?1:t>=10&&t<=12?2:3,"\uac1c")}if("\uc804\uc124"===e){return"\ub178\ub780\uc0c9 \uac00\ub8e8 ".concat(t>=7&&t<=9?1:t>=10&&t<=12?2:3,"\uac1c")}})()]})]})]})]}):(0,I.jsx)(n.A,{variant:"body2",color:"text.secondary",children:"\uc815\ubcf4 \uc5c6\uc74c"})]})]})}),te&&(G.gold>0||G.formlessShards>0||G.refinedStones>0||G.rawOres>0||G.purplePowder>0||G.yellowPowder>0||G.consumedWeapons&&Object.keys(G.consumedWeapons).length>0)&&(0,I.jsxs)(m.A,{elevation:3,sx:{p:2,mt:2,position:"relative"},children:[(0,I.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,I.jsx)(n.A,{variant:"h6",children:"\ub204\uc801 \uc18c\ubaa8 \uc7ac\ud654"}),(0,I.jsx)(w.A,{variant:"outlined",size:"small",onClick:()=>{U(T),R(0),ee({open:!0,message:"\ub204\uc801 \uc7ac\ud654\uac00 \ucd08\uae30\ud654\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})},children:"\ucd08\uae30\ud654"})]}),(0,I.jsxs)(n.A,{children:["\uace8\ub4dc: ",G.gold.toLocaleString()]}),(0,I.jsxs)(n.A,{children:["\ubb34\ud615\uc758 \ud30c\ud3b8: ",G.formlessShards.toLocaleString()]}),(0,I.jsxs)(n.A,{children:["\uc815\uad50\ud55c \uac15\ud654\uc11d: ",G.refinedStones.toLocaleString()]}),(0,I.jsxs)(n.A,{children:["\ubbf8\uac00\uacf5 \uac15\ud654 \uc6d0\uc11d: ",G.rawOres.toLocaleString()]}),G.purplePowder>0&&(0,I.jsxs)(n.A,{children:["\ubcf4\ub77c\uc0c9 \uac00\ub8e8: ",G.purplePowder.toLocaleString()]}),G.yellowPowder>0&&(0,I.jsxs)(n.A,{children:["\ub178\ub780\uc0c9 \uac00\ub8e8: ",G.yellowPowder.toLocaleString()]}),G.consumedWeapons&&Object.entries(G.consumedWeapons).map(e=>{let[t,s]=e;return(0,I.jsxs)(n.A,{children:["\uc18c\ubaa8\ub41c ",t,": ",s.toLocaleString(),"\uac1c"]},t)})]}),(0,I.jsx)(A.A,{open:$.open,autoHideDuration:3e3,onClose:(e,t)=>{"clickaway"!==t&&ee((0,a.A)((0,a.A)({},$),{},{open:!1}))},message:$.message,anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})}var B=s(6803),T=s(256),Z=s(3353),H=s(4938),J=s(8259),R=s(7443),G=s(4375),U=s(6172),V=s(1341);const Y="https://docs.google.com/spreadsheets/d/".concat("1IZra9ZZRwBBgT4ai1W0fCATeFFsztHnF0k03DmLr1tI","/export?format=csv&gid=").concat("882618671");function q(){const{cache:e,setCacheValue:t}=(0,i.useContext)(v.O),[s,a]=(0,i.useState)(e.classWeaponEnh||null),[r,c]=(0,i.useState)(!e.classWeaponEnh),[d,p]=(0,i.useState)(null),[l,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(""),[g,_]=(0,i.useState)(""),[A,j]=(0,i.useState)("");(0,i.useEffect)(()=>{(async()=>{if(e.classWeaponEnh)return a(e.classWeaponEnh),void c(!1);c(!0),p(null);try{const e=await fetch(Y);if(!e.ok)throw new Error("\ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");const s=await e.text();u().parse(s,{header:!0,skipEmptyLines:!0,complete:e=>{const s=e.data.filter(e=>e["\uc804\uc9c1 \ucc28\uc218"]&&e["\uac15\ud654 \ucc28\uc218"]);a(s),t("classWeaponEnh",s),c(!1)},error:e=>{throw new Error(e.message)}})}catch(s){p(s.message),c(!1)}})()},[e.classWeaponEnh,t]);const y=(0,i.useMemo)(()=>s?[...new Set(s.map(e=>e["\uc804\uc9c1 \ucc28\uc218"]))].sort((e,t)=>e-t):[],[s]),S=(0,i.useCallback)(e=>s&&e?s.filter(t=>t["\uc804\uc9c1 \ucc28\uc218"]===e).map(e=>e["\uac15\ud654 \ucc28\uc218"]).sort((e,t)=>e-t):[],[s]),k=(0,i.useMemo)(()=>S(l),[S,l]),C=(0,i.useMemo)(()=>S(g),[S,g]),{totalCost:W,error:F}=(0,i.useMemo)(()=>{if(!s||""===l||""===w||""===g||""===A)return{totalCost:null,error:null};if(parseInt(l,10)>parseInt(g,10)||parseInt(l,10)===parseInt(g,10)&&parseInt(w,10)>=parseInt(A,10))return{totalCost:null,error:"\ubaa9\ud45c \ub2e8\uacc4\ub294 \ud604\uc7ac \ub2e8\uacc4\ubcf4\ub2e4 \ub192\uc544\uc57c \ud569\ub2c8\ub2e4."};const e=["\uace8\ub4dc","\ubb34\ud615\uc758 \ud30c\ud3b8","\uac15\ud654 \uc7ac\ub8cc 1","\uac15\ud654 \uc7ac\ub8cc 2","\uac15\ud654 \uc7ac\ub8cc 3"],t={"\uace8\ub4dc":0,"\ubb34\ud615\uc758 \ud30c\ud3b8":0},a=s.findIndex(e=>e["\uc804\uc9c1 \ucc28\uc218"]===l&&e["\uac15\ud654 \ucc28\uc218"]===w),r=s.findIndex(e=>e["\uc804\uc9c1 \ucc28\uc218"]===g&&e["\uac15\ud654 \ucc28\uc218"]===A);for(let i=a+1;i<=r;i++)e.forEach(e=>{const a=s[i][e];if(a)if(e.startsWith("\uac15\ud654 \uc7ac\ub8cc")){const e=a.match(/([^\d]+)\s*(\d+)/);if(e){const[,s,a]=e;t[s.trim()]=(t[s.trim()]||0)+parseInt(a,10)}}else t[e]=(t[e]||0)+parseInt(a,10)});return{totalCost:t,error:null}},[s,l,w,g,A]);if(r)return(0,I.jsxs)(o.A,{sx:{display:"flex",justifyContent:"center",p:3},children:[(0,I.jsx)(f.A,{}),(0,I.jsx)(n.A,{sx:{ml:2},children:"\uac15\ud654 \ube44\uc6a9 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."})]});if(d)return(0,I.jsx)(B.A,{severity:"error",children:d});const E=(e,t,s,a)=>(0,I.jsxs)(T.A,{fullWidth:!0,sx:{mb:2},children:[(0,I.jsx)(Z.A,{children:e}),(0,I.jsx)(H.A,{value:t,label:e,onChange:e=>s(e.target.value),children:a.map(e=>(0,I.jsx)(h.A,{value:e,children:e},e))})]});return(0,I.jsxs)(o.A,{sx:{p:2},children:[(0,I.jsxs)(m.A,{sx:{p:2,mb:2},children:[(0,I.jsx)(n.A,{variant:"h6",children:"\ud604\uc7ac \ub2e8\uacc4"}),E("\uc804\uc9c1 \ucc28\uc218",l,b,y),E("\uac15\ud654 \ub808\ubca8",w,x,k)]}),(0,I.jsxs)(m.A,{sx:{p:2,mb:2},children:[(0,I.jsx)(n.A,{variant:"h6",children:"\ubaa9\ud45c \ub2e8\uacc4"}),E("\uc804\uc9c1 \ucc28\uc218",g,_,y),E("\uac15\ud654 \ub808\ubca8",A,j,C)]}),F&&(0,I.jsx)(B.A,{severity:"error",children:F}),W&&!F&&(0,I.jsx)(J.A,{component:m.A,children:(0,I.jsx)(R.A,{size:"small",children:(0,I.jsxs)(G.A,{children:[(0,I.jsx)(U.A,{children:(0,I.jsx)(V.A,{colSpan:2,sx:{fontWeight:"bold",textAlign:"center"},children:"\ud544\uc694 \uc7ac\ub8cc \ucd1d\ud569"})}),Object.entries(W).map(e=>{let[t,s]=e;return s>0&&(0,I.jsxs)(U.A,{children:[(0,I.jsx)(V.A,{children:t}),(0,I.jsx)(V.A,{align:"right",children:s.toLocaleString()})]},t)})]})})})]})}const K=["children","value","index"];function Q(e){const{children:t,value:s,index:i}=e,c=(0,r.A)(e,K);return(0,I.jsx)("div",(0,a.A)((0,a.A)({role:"tabpanel",hidden:s!==i,id:"enh-sim-tabpanel-".concat(i),"aria-labelledby":"enh-sim-tab-".concat(i)},c),{},{children:s===i&&(0,I.jsx)(o.A,{sx:{p:3},children:(0,I.jsx)(n.A,{component:"div",children:t})})}))}function X(){const[e,t]=(0,i.useState)(0);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.A,{children:(0,I.jsx)(o.A,{sx:{my:2,textAlign:"center"},children:(0,I.jsx)(n.A,{variant:"h5",component:"h1",gutterBottom:!0,children:"\uac15\ud654 \uc2dc\ubbac\ub808\uc774\ud130"})})}),(0,I.jsxs)(o.A,{sx:{width:"100%"},children:[(0,I.jsx)(d.A,{position:"static",children:(0,I.jsxs)(p.A,{value:e,onChange:(e,s)=>{t(s)},variant:"fullWidth",children:[(0,I.jsx)(l.A,{label:"\ud2b9\uc218 \ubb34\uae30"}),(0,I.jsx)(l.A,{label:"\ud074\ub798\uc2a4 \ubb34\uae30"})]})}),(0,I.jsx)(Q,{value:e,index:0,children:(0,I.jsx)(D,{})}),(0,I.jsx)(Q,{value:e,index:1,children:(0,I.jsx)(q,{})})]})]})}},9118:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/egg_boom.28abd2fe822ebe9d8038.webp"},9135:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/storm_leon.93c6bfd52c50aee348ce.webp"},9177:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/battle_dancer.d28611c16211107a338d.webp"},9234:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/radiant.16c86fbe635f947c3b6f.webp"},9384:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/blaster.c08cf55371abb34ab896.webp"},9465:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/arcana.8441cf57d25ac3859d44.webp"},9703:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/easter_old.137d2d7ec277a22aae1f.webp"}}]);
//# sourceMappingURL=74.1729d49f.chunk.js.map